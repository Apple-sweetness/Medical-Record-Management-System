import requests
from bs4 import BeautifulSoup
import json

base_url = "https://books.toscrape.com/catalogue/category/books_1/page-{}.html"
books = []

# Scrape the first 5 pages to gather more than 100 books
for page in range(1, 6):
    url = base_url.format(page)
    response = requests.get(url)
    soup = BeautifulSoup(response.content, 'html.parser')
    
    for book in soup.select('.product_pod'):
        title = book.h3.a['title']
        price = book.select_one('.price_color').text
        availability = book.select_one('.availability').text.strip()
        books.append({"title": title, "price": price, "availability": availability})

# Create a JSON file with the scraped data
with open('books.json', 'w') as file:
    json.dump(books, file, indent=4)
